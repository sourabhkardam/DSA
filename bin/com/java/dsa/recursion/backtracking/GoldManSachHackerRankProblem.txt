Number Patterns & finding the possible smallest numeric value

Question:
Given a Pattern containing only Ns and M's.
N represents ascending and M represents descending, Each character (M or N) needs to display 
sequence of numbers(2 numbers) explaining the ascending or descending order (for ex: 21 -represents descending -> M) .
The second character in the pattern takes the last digit from first paracter and builds the sequence and so on..
Please look at example section below. There could be multiple numbers satisfying the pattern. 
The goal is to find out the lowest numeric value following the pattern.

Constraints:
  Input can have maximum 8 characters
  Output can have Digits from 1-9 and Digits can't repeat.
  In case of no possible output or incorrect input value (like blank /null /NON M or N character) please return -1.
  

